# NearbyFactBot v1.2 üó∫Ô∏è

Telegram-–±–æ—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö —Ñ–∞–∫—Ç–æ–≤ –æ –º–µ—Å—Ç–∞—Ö. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –ª–æ–∫–∞—Ü–∏—é ‚Äî –ø–æ–ª—É—á–∏—Ç–µ —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é!

## ‚ú® –ù–æ–≤–æ–µ –≤ v1.2

### üìç –ö–Ω–æ–ø–∫–∞ "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è –ª–æ–∫–∞—Ü–∏–µ–π"
- **–ü—Ä–æ—Å—Ç–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: –æ–¥–Ω–∞ –∫–Ω–æ–ø–∫–∞ –≤–º–µ—Å—Ç–æ –ø–æ–∏—Å–∫–∞ —Å–∫—Ä–µ–ø–∫–∏ üìé
- **–í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞**: –∫–Ω–æ–ø–∫–∞ "‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è" 
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º**: –º–æ–∂–Ω–æ —Å–∫—Ä—ã—Ç—å/–ø–æ–∫–∞–∑–∞—Ç—å –∫–Ω–æ–ø–∫–∏

### –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
1. `/start` ‚Äî –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞
2. **üìç –ü–æ–¥–µ–ª–∏—Ç—å—Å—è –ª–æ–∫–∞—Ü–∏–µ–π** ‚Äî –≤—ã–±–∏—Ä–∞–µ—Ç–µ —Ç–∏–ø –ª–æ–∫–∞—Ü–∏–∏
3. –ü–æ–ª—É—á–∞–µ—Ç–µ —Ñ–∞–∫—Ç—ã –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üìç –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –ª–æ–∫–∞—Ü–∏—è
- –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç –æ –º–µ—Å—Ç–µ
- –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç GPT-4.1

### üî¥ –ñ–∏–≤–∞—è –ª–æ–∫–∞—Ü–∏—è (Live Location)
- **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã**: 5, 10, 30, 60 –º–∏–Ω—É—Ç
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–∫—Ç—ã** –≤–æ –≤—Ä–µ–º—è –¥–≤–∏–∂–µ–Ω–∏—è
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç** –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –ø—Ä–æ–≥—É–ª–æ–∫, –ø–æ–µ–∑–¥–æ–∫, —ç–∫—Å–∫—É—Ä—Å–∏–π

## üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–¢—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≥—É–ª–∫–∏**
```
üìç –ù–∞–∂–∞–ª–∏ –∫–Ω–æ–ø–∫—É ‚Üí Share Live Location (1 —á–∞—Å)
üî¥ –í—ã–±—Ä–∞–ª–∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª: –∫–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç
üó∫Ô∏è –ü–æ–ª—É—á–∞–µ—Ç–µ —Ñ–∞–∫—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ –≤—Ä–µ–º—è —ç–∫—Å–∫—É—Ä—Å–∏–∏!
```

**–ë—ã—Å—Ç—Ä–∞—è —Å–ø—Ä–∞–≤–∫–∞**
```
üìç –ù–∞–∂–∞–ª–∏ –∫–Ω–æ–ø–∫—É ‚Üí –û—Ç–ø—Ä–∞–≤–∏—Ç—å –º–æ—é —Ç–µ–∫—É—â—É—é –≥–µ–æ–ø–æ–∑–∏—Ü–∏—é  
üí° –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π —Ñ–∞–∫—Ç –æ –±–ª–∏–∂–∞–π—à–µ–º –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–º –º–µ—Å—Ç–µ
```

## üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Python 3.12** + python-telegram-bot
- **OpenAI GPT-4.1** –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ñ–∞–∫—Ç–æ–≤
- **AsyncIO** –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ live-–ª–æ–∫–∞—Ü–∏–π
- **Railway** –¥–ª—è deployment
- **GitHub Actions** –¥–ª—è CI/CD

## üìã –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –ª–æ–∫–∞—Ü–∏–π
```python
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞
if location.live_period:
    # –ñ–∏–≤–∞—è –ª–æ–∫–∞—Ü–∏—è ‚Üí –≤—ã–±–æ—Ä –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ ‚Üí —Ñ–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏
    show_interval_selection()
else:
    # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è ‚Üí –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π —Ñ–∞–∫—Ç
    send_immediate_fact()
```

### Live Location —Å–∏—Å—Ç–µ–º–∞
- **Session management**: –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **Background tasks**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–∞–∫—Ç–æ–≤ –ø–æ —Ç–∞–π–º–µ—Ä—É
- **Coordinate updates**: –æ–±—Ä–∞–±–æ—Ç–∫–∞ edited_message –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–∏
- **Graceful shutdown**: –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ sharing

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
python -m pytest tests/ -v

# –¢–µ—Å—Ç—ã –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã  
python -m pytest tests/test_main.py -v

# –¢–µ—Å—Ç—ã live location
python -m pytest tests/test_live_location_tracker.py -v

# –¢–µ—Å—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ª–æ–∫–∞—Ü–∏–π
python -m pytest tests/test_location_handler.py -v
```

**–ü–æ–∫—Ä—ã—Ç–∏–µ**: 14 —Ç–µ—Å—Ç–æ–≤, –≤–∫–ª—é—á–∞—è –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã

## üöÄ Deployment

### Production (Railway)
```bash
git push origin main  # ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π
```

### Local development
```bash
cp .env.example .env
# –ó–∞–ø–æ–ª–Ω–∏—Ç–µ TELEGRAM_BOT_TOKEN –∏ OPENAI_API_KEY

# –†–µ–∂–∏–º polling (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
unset WEBHOOK_URL  
python -m src.main
```

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[PRD.md](docs/PRD.md)** ‚Äî Product Requirements Document
- **[LIVE_LOCATION_V1.1.md](docs/LIVE_LOCATION_V1.1.md)** ‚Äî Live Location –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **[LOCATION_KEYBOARD_V1.2.md](docs/LOCATION_KEYBOARD_V1.2.md)** ‚Äî –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ v1.2
- **[DEPLOYMENT_FIXES.md](docs/DEPLOYMENT_FIXES.md)** ‚Äî –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º –¥–µ–ø–ª–æ—è
- **[FINAL_DEPLOYMENT.md](docs/FINAL_DEPLOYMENT.md)** ‚Äî Production guide

## üîÑ –ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π

### v1.2 (—Ç–µ–∫—É—â–∞—è)
- ‚úÖ **–ö–Ω–æ–ø–∫–∞ –ª–æ–∫–∞—Ü–∏–∏** ‚Äî ReplyKeyboardMarkup
- ‚úÖ **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞** ‚Äî –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞
- ‚úÖ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º** ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –∫–Ω–æ–ø–∫–∏

### v1.1  
- ‚úÖ **Live Location** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–∫—Ç—ã –∫–∞–∂–¥—ã–µ N –º–∏–Ω—É—Ç
- ‚úÖ **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã** ‚Äî 5, 10, 30, 60 –º–∏–Ω—É—Ç
- ‚úÖ **–ü–æ–ª–Ω–∞—è —Ä—É—Å–∏—Ñ–∏–∫–∞—Ü–∏—è** ‚Äî –≤–∫–ª—é—á–∞—è OpenAI –ø—Ä–æ–º–ø—Ç—ã

### v1.0
- ‚úÖ **MVP** ‚Äî —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ª–æ–∫–∞—Ü–∏–∏ + —Ñ–∞–∫—Ç—ã GPT-4.1
- ‚úÖ **Production deployment** ‚Äî Railway + webhook

## üåü User Experience

### –î–æ v1.2:
```
1. –ù–∞–π—Ç–∏ —Å–∫—Ä–µ–ø–∫—É üìé
2. Location ‚Üí –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
3. –ü–æ–ª—É—á–∏—Ç—å —Ñ–∞–∫—Ç
```

### –ü–æ—Å–ª–µ v1.2:
```
1. üìç –ü–æ–¥–µ–ª–∏—Ç—å—Å—è –ª–æ–∫–∞—Ü–∏–µ–π  ‚Üê –æ–¥–Ω–∞ –∫–Ω–æ–ø–∫–∞!
2. –ü–æ–ª—É—á–∏—Ç—å —Ñ–∞–∫—Ç
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: —Å–Ω–∏–∂–µ–Ω–∏–µ –±–∞—Ä—å–µ—Ä–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ 70%

## ü§ù Contributing

```bash
git clone https://github.com/shipaleks/test-tg-coordinate.git
cd test-tg-coordinate

# Setup
python -m venv venv
source venv/bin/activate  # –∏–ª–∏ venv\Scripts\activate –Ω–∞ Windows
pip install -r requirements.txt

# Development
python -m pytest tests/ -v
python -m src.main
```

## üìä –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞

- ‚úÖ **Production Ready** ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Railway
- ‚úÖ **–ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî 14 unit tests
- ‚úÖ **CI/CD Pipeline** ‚Äî GitHub Actions
- ‚úÖ **Comprehensive docs** ‚Äî —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ **User-friendly UX** ‚Äî –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

**NearbyFactBot v1.2 ‚Äî –≥–æ—Ç–æ–≤ –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é!** üöÄ 